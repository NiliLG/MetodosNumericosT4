Función Simpson38(f, a, b, n):
    si n % 3 no es igual a 0, devolver "El número de intervalos debe ser un múltiplo de 3."
    
    h = (b - a) / n
    suma = f(a) + f(b) // Sumamos el valor de f(a) y f(b) al resultado
    
    Para i desde 1 hasta n-1:
        xi = a + i * h // Calculamos los puntos de partición
        Si i % 3 es igual a 0:
            suma = suma + 2 * f(xi) // Sumamos el valor de f(xi) ponderado por 2
        Sino si i % 3 es igual a 1:
            suma = suma + 3 * f(xi) // Sumamos el valor de f(xi) ponderado por 3
        Sino:
            suma = suma + 3 * f(xi) // Sumamos el valor de f(xi) ponderado por 3
    
    resultado = 3 * h * suma / 8 // Multiplicamos por el ancho de los intervalos y dividimos por 8
    Devolver resultado
